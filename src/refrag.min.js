(function(a){var b="^",c=function(a,b){var c,d;typeof b=="undefined"?(c="log",d=a):(c=a,d=b),console[c]("[refrag.js] "+d)},d="#"+b,e=window.location.hash;if(e.substr(0,d.length)!==d)return;e=e.substr(d.length),c("Anchor `"+e+"` found, will redirect..."),a(function(){c("Attempting to redirect..."),e=unescape(e);var a=f(e);a?(c("Matched element <"+a.nodeName+">"),a.scrollIntoView(),g(a)):c("warn","No element matching anchor: "+e)});var f=function(b,c){var d=null,e=function(c){return c=c||"",function(){if(d)return!1;var f=a(this),g=f.text(),h=c+g;if(h.indexOf(b)>=0)return d=f,!1;a.each(f.contents(),e(h))}};return c=c||a("body"),a.each(c.contents(),e()),d?f(b,d)||d:null},g=function(b){if(b.isText()){var c=a("<span/>").html(b.text());b.replaceWith(c),b=c}b.css("background-color","yellow")}})(function(){var a=function(b){var c=function(a){if(a[0]=="#"){var b=a.substring(1),c=document.getElementById(b);return c?e(c):null}return document.querySelector?e(document.querySelector(a)):null},d=function(a){a=a.substring(1,a.length-1),a[a.length-1]=="/"&&(a=a.substring(0,a.length-1));var b=document.createElement(a);return e(b)},e=function(b){for(var c in a.fn)if(a.fn.hasOwnProperty(c)&&typeof b[c]=="undefined"){var d=a.fn[c];b[c]=d}return b},f=function(a){return window.addEventListener?window.addEventListener("load",a):(window.onload=a,!0)};return typeof b=="string"?(b=b.trim(),b[0]=="<"&&b[b.length-1]==">"?d(b):c(b)):typeof b=="function"?f(b):e(b)};return a.fn=function(){var b=function(a){var b=a.split("-");for(var c=0;c<b.length;++c){var d=b[c].substring(0,1);d=d[c>0?"toUpperCase":"toLowerCase"](),b[c]=d+b[c].substring(1)}return b.join("")};return{isText:function(){return this.nodeType==3},contents:function(){return this.childNodes},html:function(a){return typeof a!="undefined"?(this.innerHTML=a,this):this.innerHTML},text:function(){if(this.isText())return this.nodeValue;var b="",c=this.childNodes;return a.each(c,function(){b+=a(this).text()}),b},css:function(a,c){return a=b(a),typeof c!="undefined"?(this.style[a]=c,this):this.style[a]},offset:function(){var a=top=0;if(b.offsetParent){var b=this;do a+=b.offsetLeft,top+=b.offsetTop;while(b=b.offsetParent)}return{left:a,top:top}},scrollIntoView:function(b){var c=this;while(c&&c.nodeType!=1)c=c.previousSibling;c=c||this.parentNode,c&&a(c).scrollIntoView(b)},replaceWith:function(a){var b=this.parentNode;b.insertBefore(a,this),b.removeChild(this)}}}(),a.each=function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e=b.apply(d,[c,d,a]);if(e===!1)break}},a}())